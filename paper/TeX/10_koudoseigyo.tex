\chapter{マルチコプターの運動方程式}

\section{マルチコプターの上下運動に関する微分方程式（運動方程式）}

\begin{eqnarray}
m\ddot{y}=T-mg
\end{eqnarray}


\begin{eqnarray}
\dot{v}=\ddot{y}=\frac{T-mg}{m}\\
\end{eqnarray}

y:マルチコプターの高度[m]

T:4つのプロペラの推力[N]

m:マルチコプターの質量[kg]

v:上昇・下降速度[m/s]


\section{モーターの回転運動に関する微分方程式（一次遅れモデル）}

\begin{eqnarray}
τ\dot{ω}+ω=ku
\end{eqnarray}

\begin{eqnarray}
\dot{ω}=\frac{ku-ω}{τ}\\
\end{eqnarray}

ω:モーターの角速度[rad/s]

τ:モーターの時定数[s]

\begin{eqnarray}
k:モーターのゲイン[\frac{rad/s}{V}]
\end{eqnarray}

\section{角速度とプロペラの推力との関係}

%\[
%  x = (\frac{a}{b}) %単純に括弧で囲った場合
%\]
%\[
%  x = \left( \frac{a}{b} \right) %\left( \right)で囲んだ場合
%\]

\begin{eqnarray}
T=\frac{Gω^2}{{1-\frac{64}{9D^2}}{(\frac{v}{ω})^2}}
\end{eqnarray}

T:推力

G:推力係数

ω:プロペラ角速度

D:プロペラ直径

v:上昇・下降速度

プロペラ直径が6インチ
D=0.1524mとすると，
上式は

\begin{eqnarray}
T=\frac{Gω^2}{{1-306}{(\frac{v}{ω})^2}}
\end{eqnarray}

上昇・下降速度ｖはωに対して非常に小さいので
\begin{eqnarray}
T\fallingdotseq Gω^2
\end{eqnarray}

として良い．


シミュレーションのためにマルチコプターの質量m=0.65kg，モーターに与える電圧eと回転数Nの関係は，
\begin{eqnarray}
N=K_V \large{e}  [rpm]
\end{eqnarray}

我々の使用しているモーターは
\begin{eqnarray}
K_V =2600 [rpm/V]
\end{eqnarray}


単位変換すると


\begin{eqnarray}
ω=K_V' \large{e}   [rad/s]
\end{eqnarray}

\begin{eqnarray}
K_V' =\frac{K_V・2π}{60} = \frac{πK_V}{30} \fallingdotseq 272.3
\end{eqnarray}

3.9式と3.16式からホバリングに必要な電圧を電池の半分の電圧5Vを考えＧを求める．
※モーターとプロペラ4個の推力がマルチコプターの重量に等しくなる．


\begin{eqnarray}
mg=4T
\end{eqnarray}ということになる．



